[debug] [2020-08-08T07:35:34.286Z] ----------------------------------------------------------------------
[debug] [2020-08-08T07:35:34.290Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Matt\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions
[debug] [2020-08-08T07:35:34.291Z] CLI Version:   8.7.0
[debug] [2020-08-08T07:35:34.291Z] Platform:      win32
[debug] [2020-08-08T07:35:34.291Z] Node Version:  v10.19.0
[debug] [2020-08-08T07:35:34.293Z] Time:          Sat Aug 08 2020 15:35:34 GMT+0800 (Australian Western Standard Time)
[debug] [2020-08-08T07:35:34.293Z] ----------------------------------------------------------------------
[debug] [2020-08-08T07:35:34.294Z] 
[debug] [2020-08-08T07:35:34.313Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2020-08-08T07:35:34.313Z] > authorizing via signed-in user
[debug] [2020-08-08T07:35:34.314Z] [iam] checking project make-my-games for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2020-08-08T07:35:34.316Z] > refreshing access token with scopes: ["email","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","openid"]
[debug] [2020-08-08T07:35:34.317Z] >>> HTTP REQUEST POST https://www.googleapis.com/oauth2/v3/token  
 <request body omitted>
[debug] [2020-08-08T07:35:34.814Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=utf-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Sat, 08 Aug 2020 07:35:34 GMT","server":"scaffolding on HTTPServer2","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-27=\":443\"; ma=2592000,h3-T050=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2020-08-08T07:35:34.827Z] >>> HTTP REQUEST POST https://cloudresourcemanager.googleapis.com/v1/projects/make-my-games:testIamPermissions  
 {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2020-08-08T07:35:36.347Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Sat, 08 Aug 2020 07:35:36 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=1040","alt-svc":"h3-29=\":443\"; ma=2592000,h3-27=\":443\"; ma=2592000,h3-T050=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2020-08-08T07:35:36.350Z] >>> HTTP REQUEST POST https://iam.googleapis.com/v1/projects/make-my-games/serviceAccounts/make-my-games@appspot.gserviceaccount.com:testIamPermissions  
 {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2020-08-08T07:35:37.875Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Sat, 08 Aug 2020 07:35:37 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-27=\":443\"; ma=2592000,h3-T050=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[info] 
[info] === Deploying to 'make-my-games'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] +  functions: Finished running predeploy script. 
[debug] [2020-08-08T07:35:46.275Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "10"
  },
  "dependencies": {
    "@google-cloud/logging": "^8.0.1",
    "firebase-admin": "^8.6.0",
    "firebase-functions": "^3.3.0",
    "stripe": "^8.84.0"
  },
  "devDependencies": {
    "eslint": "^5.12.0",
    "eslint-plugin-promise": "^4.0.1",
    "firebase-functions-test": "^0.1.6"
  },
  "private": true
}
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2020-08-08T07:35:49.010Z] >>> HTTP REQUEST GET https://serviceusage.googleapis.com/v1/projects/make-my-games/services/cloudfunctions.googleapis.com  
 
[debug] [2020-08-08T07:35:49.011Z] >>> HTTP REQUEST GET https://serviceusage.googleapis.com/v1/projects/make-my-games/services/runtimeconfig.googleapis.com  
 
[debug] [2020-08-08T07:35:49.012Z] >>> HTTP REQUEST GET https://serviceusage.googleapis.com/v1/projects/make-my-games/services/cloudbuild.googleapis.com  
 
[debug] [2020-08-08T07:35:50.612Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Sat, 08 Aug 2020 07:35:50 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-27=\":443\"; ma=2592000,h3-T050=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2020-08-08T07:35:50.622Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Sat, 08 Aug 2020 07:35:50 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-27=\":443\"; ma=2592000,h3-T050=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[warn] !  functions: missing required API cloudbuild.googleapis.com. Enabling now... 
[debug] [2020-08-08T07:35:50.625Z] >>> HTTP REQUEST POST https://serviceusage.googleapis.com/v1/projects/make-my-games/services/cloudbuild.googleapis.com:enable  
 
[debug] [2020-08-08T07:35:50.738Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Sat, 08 Aug 2020 07:35:50 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-27=\":443\"; ma=2592000,h3-T050=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[info] +  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2020-08-08T07:35:52.349Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Sat, 08 Aug 2020 07:35:52 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-27=\":443\"; ma=2592000,h3-T050=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2020-08-08T07:36:02.351Z] >>> HTTP REQUEST GET https://serviceusage.googleapis.com/v1/projects/make-my-games/services/cloudbuild.googleapis.com  
 
[debug] [2020-08-08T07:36:03.745Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Sat, 08 Aug 2020 07:36:03 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-27=\":443\"; ma=2592000,h3-T050=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[info] +  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2020-08-08T07:36:03.751Z] >>> HTTP REQUEST GET https://firebase.googleapis.com/v1beta1/projects/make-my-games/adminSdkConfig  
 
[debug] [2020-08-08T07:36:04.628Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Sat, 08 Aug 2020 07:36:04 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-27=\":443\"; ma=2592000,h3-T050=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[info] i  functions: preparing functions directory for uploading... 
[debug] [2020-08-08T07:36:04.635Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/make-my-games/configs  
 
[debug] [2020-08-08T07:36:05.767Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Sat, 08 Aug 2020 07:36:05 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-27=\":443\"; ma=2592000,h3-T050=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2020-08-08T07:36:05.768Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/make-my-games/configs/stripe/variables  
 
[debug] [2020-08-08T07:36:06.441Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Sat, 08 Aug 2020 07:36:06 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-27=\":443\"; ma=2592000,h3-T050=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2020-08-08T07:36:06.441Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/make-my-games/configs/stripe/variables/push  
 
[debug] [2020-08-08T07:36:06.442Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/make-my-games/configs/stripe/variables/key  
 
[debug] [2020-08-08T07:36:06.957Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Sat, 08 Aug 2020 07:36:06 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-27=\":443\"; ma=2592000,h3-T050=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2020-08-08T07:36:07.162Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Sat, 08 Aug 2020 07:36:07 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-27=\":443\"; ma=2592000,h3-T050=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[info] i  functions: packaged functions (46.68 KB) for uploading 
[debug] [2020-08-08T07:36:08.398Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/projects/make-my-games/locations/-/functions  
 
[debug] [2020-08-08T07:36:10.618Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Sat, 08 Aug 2020 07:36:10 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-27=\":443\"; ma=2592000,h3-T050=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2020-08-08T07:36:10.621Z] >>> HTTP REQUEST POST https://cloudfunctions.googleapis.com/v1/projects/make-my-games/locations/us-central1/functions:generateUploadUrl  
 
[debug] [2020-08-08T07:36:13.358Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Sat, 08 Aug 2020 07:36:13 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-27=\":443\"; ma=2592000,h3-T050=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2020-08-08T07:36:13.359Z] >>> HTTP REQUEST PUT https://storage.googleapis.com/gcf-upload-us-central1-009b5138-cbcb-4510-afbb-756877ac4f84/53fdac9b-4586-48d1-99fd-296f18ab95ad.zip?GoogleAccessId=service-1016331517520@gcf-admin-robot.iam.gserviceaccount.com&Expires=1596873973&Signature=TGCrJQlDoa6tSP7q0t20E3hfN4RGM4AYQdcxh59s3Q%2BtKPANiQgNIlYnrrMNhDren5jXmbFPNznt1C3ePIiM5bXd3qfrzZZjyWqwAqYIo1yidIbYmFBAyleif%2FH16K%2BgPg139sn%2BxPmClCDptz%2BMPXV2z4FE%2FI%2BvJ0M2eeIHVNMIGoG71vq3hO8IET0dses3SYdclkhRvrKHd4wJ7uvBnCzpYop7nIoFDET0khj5ha4wBB6Xls8Y9PQ2N2H%2F5rKG%2BGutkGifIRPqvPlzJb6wEGYcTsZDK%2F2U1j5J%2Bn3VmNR5YraDE1VnLSqzL%2BdMZG4uCsIGo9cqsCVgfSMz5YxuCA%3D%3D  
 <request body omitted>
[debug] [2020-08-08T07:36:14.123Z] <<< HTTP RESPONSE 200 {"x-guploader-uploadid":"AAANsUkT2qjbZ0JenuPPYBgu4XP2YM73yuP_LuXbd59jn3APyjIwYFFdDv1jT4BqXvQ2ZnnvepLnnZC0ih_xQc7tuX0","etag":"\"34e7c20b52ea269eb3097e8cc5f01c74\"","x-goog-generation":"1596872174100462","x-goog-metageneration":"1","x-goog-hash":"crc32c=8DI1cg==, md5=NOfCC1LqJp6zCX6MxfAcdA==","x-goog-stored-content-length":"47801","x-goog-stored-content-encoding":"identity","vary":"Origin","content-length":"0","date":"Sat, 08 Aug 2020 07:36:14 GMT","server":"UploadServer","content-type":"text/html; charset=UTF-8","alt-svc":"h3-29=\":443\"; ma=2592000,h3-27=\":443\"; ma=2592000,h3-T050=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\""}
[info] +  functions: functions folder uploaded successfully 
[info] i  functions: updating Node.js 10 function createStripeCustomer(us-central1)... 
[debug] [2020-08-08T07:36:14.129Z] Trigger is:  {"eventTrigger":{"resource":"projects/make-my-games","eventType":"providers/firebase.auth/eventTypes/user.create","service":"firebaseauth.googleapis.com"}}
[info] i  functions: updating Node.js 10 function addPaymentMethodDetails(us-central1)... 
[debug] [2020-08-08T07:36:14.130Z] Trigger is:  {"eventTrigger":{"resource":"projects/make-my-games/databases/(default)/documents/users/{userId}/stripe/payment_methods/{pushId}","eventType":"providers/cloud.firestore/eventTypes/document.create","service":"firestore.googleapis.com"}}
[info] i  functions: updating Node.js 10 function createStripePayment(us-central1)... 
[debug] [2020-08-08T07:36:14.131Z] Trigger is:  {"eventTrigger":{"resource":"projects/make-my-games/databases/(default)/documents/users/{userId}/stripe/payments/{pushId}","eventType":"providers/cloud.firestore/eventTypes/document.create","service":"firestore.googleapis.com"}}
[info] i  functions: updating Node.js 10 function confirmStripePayment(us-central1)... 
[debug] [2020-08-08T07:36:14.133Z] Trigger is:  {"eventTrigger":{"resource":"projects/make-my-games/databases/(default)/documents/users/{userId}/stripe/payments/{pushId}","eventType":"providers/cloud.firestore/eventTypes/document.update","service":"firestore.googleapis.com"}}
[info] i  functions: updating Node.js 10 function cleanupUser(us-central1)... 
[debug] [2020-08-08T07:36:14.134Z] Trigger is:  {"eventTrigger":{"resource":"projects/make-my-games","eventType":"providers/firebase.auth/eventTypes/user.delete","service":"firebaseauth.googleapis.com"}}
[debug] [2020-08-08T07:36:14.139Z] >>> HTTP REQUEST PATCH https://cloudfunctions.googleapis.com/v1/projects/make-my-games/locations/us-central1/functions/createStripeCustomer {"updateMask":"sourceUploadUrl,name,labels,runtime,environmentVariables,eventTrigger.resource,eventTrigger.eventType,eventTrigger.service"} 
 {"sourceUploadUrl":"https://storage.googleapis.com/gcf-upload-us-central1-009b5138-cbcb-4510-afbb-756877ac4f84/53fdac9b-4586-48d1-99fd-296f18ab95ad.zip?GoogleAccessId=service-1016331517520@gcf-admin-robot.iam.gserviceaccount.com&Expires=1596873973&Signature=TGCrJQlDoa6tSP7q0t20E3hfN4RGM4AYQdcxh59s3Q%2BtKPANiQgNIlYnrrMNhDren5jXmbFPNznt1C3ePIiM5bXd3qfrzZZjyWqwAqYIo1yidIbYmFBAyleif%2FH16K%2BgPg139sn%2BxPmClCDptz%2BMPXV2z4FE%2FI%2BvJ0M2eeIHVNMIGoG71vq3hO8IET0dses3SYdclkhRvrKHd4wJ7uvBnCzpYop7nIoFDET0khj5ha4wBB6Xls8Y9PQ2N2H%2F5rKG%2BGutkGifIRPqvPlzJb6wEGYcTsZDK%2F2U1j5J%2Bn3VmNR5YraDE1VnLSqzL%2BdMZG4uCsIGo9cqsCVgfSMz5YxuCA%3D%3D","name":"projects/make-my-games/locations/us-central1/functions/createStripeCustomer","labels":{"deployment-tool":"cli-firebase"},"eventTrigger":{"resource":"projects/make-my-games","eventType":"providers/firebase.auth/eventTypes/user.create","service":"firebaseauth.googleapis.com"},"runtime":"nodejs10","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"make-my-games\",\"databaseURL\":\"https://make-my-games.firebaseio.com\",\"storageBucket\":\"make-my-games.appspot.com\",\"locationId\":\"us-central\"}"}}
[debug] [2020-08-08T07:36:14.141Z] >>> HTTP REQUEST PATCH https://cloudfunctions.googleapis.com/v1/projects/make-my-games/locations/us-central1/functions/addPaymentMethodDetails {"updateMask":"sourceUploadUrl,name,labels,runtime,environmentVariables,eventTrigger.resource,eventTrigger.eventType,eventTrigger.service"} 
 {"sourceUploadUrl":"https://storage.googleapis.com/gcf-upload-us-central1-009b5138-cbcb-4510-afbb-756877ac4f84/53fdac9b-4586-48d1-99fd-296f18ab95ad.zip?GoogleAccessId=service-1016331517520@gcf-admin-robot.iam.gserviceaccount.com&Expires=1596873973&Signature=TGCrJQlDoa6tSP7q0t20E3hfN4RGM4AYQdcxh59s3Q%2BtKPANiQgNIlYnrrMNhDren5jXmbFPNznt1C3ePIiM5bXd3qfrzZZjyWqwAqYIo1yidIbYmFBAyleif%2FH16K%2BgPg139sn%2BxPmClCDptz%2BMPXV2z4FE%2FI%2BvJ0M2eeIHVNMIGoG71vq3hO8IET0dses3SYdclkhRvrKHd4wJ7uvBnCzpYop7nIoFDET0khj5ha4wBB6Xls8Y9PQ2N2H%2F5rKG%2BGutkGifIRPqvPlzJb6wEGYcTsZDK%2F2U1j5J%2Bn3VmNR5YraDE1VnLSqzL%2BdMZG4uCsIGo9cqsCVgfSMz5YxuCA%3D%3D","name":"projects/make-my-games/locations/us-central1/functions/addPaymentMethodDetails","labels":{"deployment-tool":"cli-firebase"},"eventTrigger":{"resource":"projects/make-my-games/databases/(default)/documents/users/{userId}/stripe/payment_methods/{pushId}","eventType":"providers/cloud.firestore/eventTypes/document.create","service":"firestore.googleapis.com"},"runtime":"nodejs10","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"make-my-games\",\"databaseURL\":\"https://make-my-games.firebaseio.com\",\"storageBucket\":\"make-my-games.appspot.com\",\"locationId\":\"us-central\"}"}}
[debug] [2020-08-08T07:36:14.141Z] >>> HTTP REQUEST PATCH https://cloudfunctions.googleapis.com/v1/projects/make-my-games/locations/us-central1/functions/createStripePayment {"updateMask":"sourceUploadUrl,name,labels,runtime,environmentVariables,eventTrigger.resource,eventTrigger.eventType,eventTrigger.service"} 
 {"sourceUploadUrl":"https://storage.googleapis.com/gcf-upload-us-central1-009b5138-cbcb-4510-afbb-756877ac4f84/53fdac9b-4586-48d1-99fd-296f18ab95ad.zip?GoogleAccessId=service-1016331517520@gcf-admin-robot.iam.gserviceaccount.com&Expires=1596873973&Signature=TGCrJQlDoa6tSP7q0t20E3hfN4RGM4AYQdcxh59s3Q%2BtKPANiQgNIlYnrrMNhDren5jXmbFPNznt1C3ePIiM5bXd3qfrzZZjyWqwAqYIo1yidIbYmFBAyleif%2FH16K%2BgPg139sn%2BxPmClCDptz%2BMPXV2z4FE%2FI%2BvJ0M2eeIHVNMIGoG71vq3hO8IET0dses3SYdclkhRvrKHd4wJ7uvBnCzpYop7nIoFDET0khj5ha4wBB6Xls8Y9PQ2N2H%2F5rKG%2BGutkGifIRPqvPlzJb6wEGYcTsZDK%2F2U1j5J%2Bn3VmNR5YraDE1VnLSqzL%2BdMZG4uCsIGo9cqsCVgfSMz5YxuCA%3D%3D","name":"projects/make-my-games/locations/us-central1/functions/createStripePayment","labels":{"deployment-tool":"cli-firebase"},"eventTrigger":{"resource":"projects/make-my-games/databases/(default)/documents/users/{userId}/stripe/payments/{pushId}","eventType":"providers/cloud.firestore/eventTypes/document.create","service":"firestore.googleapis.com"},"runtime":"nodejs10","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"make-my-games\",\"databaseURL\":\"https://make-my-games.firebaseio.com\",\"storageBucket\":\"make-my-games.appspot.com\",\"locationId\":\"us-central\"}"}}
[debug] [2020-08-08T07:36:14.142Z] >>> HTTP REQUEST PATCH https://cloudfunctions.googleapis.com/v1/projects/make-my-games/locations/us-central1/functions/confirmStripePayment {"updateMask":"sourceUploadUrl,name,labels,runtime,environmentVariables,eventTrigger.resource,eventTrigger.eventType,eventTrigger.service"} 
 {"sourceUploadUrl":"https://storage.googleapis.com/gcf-upload-us-central1-009b5138-cbcb-4510-afbb-756877ac4f84/53fdac9b-4586-48d1-99fd-296f18ab95ad.zip?GoogleAccessId=service-1016331517520@gcf-admin-robot.iam.gserviceaccount.com&Expires=1596873973&Signature=TGCrJQlDoa6tSP7q0t20E3hfN4RGM4AYQdcxh59s3Q%2BtKPANiQgNIlYnrrMNhDren5jXmbFPNznt1C3ePIiM5bXd3qfrzZZjyWqwAqYIo1yidIbYmFBAyleif%2FH16K%2BgPg139sn%2BxPmClCDptz%2BMPXV2z4FE%2FI%2BvJ0M2eeIHVNMIGoG71vq3hO8IET0dses3SYdclkhRvrKHd4wJ7uvBnCzpYop7nIoFDET0khj5ha4wBB6Xls8Y9PQ2N2H%2F5rKG%2BGutkGifIRPqvPlzJb6wEGYcTsZDK%2F2U1j5J%2Bn3VmNR5YraDE1VnLSqzL%2BdMZG4uCsIGo9cqsCVgfSMz5YxuCA%3D%3D","name":"projects/make-my-games/locations/us-central1/functions/confirmStripePayment","labels":{"deployment-tool":"cli-firebase"},"eventTrigger":{"resource":"projects/make-my-games/databases/(default)/documents/users/{userId}/stripe/payments/{pushId}","eventType":"providers/cloud.firestore/eventTypes/document.update","service":"firestore.googleapis.com"},"runtime":"nodejs10","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"make-my-games\",\"databaseURL\":\"https://make-my-games.firebaseio.com\",\"storageBucket\":\"make-my-games.appspot.com\",\"locationId\":\"us-central\"}"}}
[debug] [2020-08-08T07:36:14.143Z] >>> HTTP REQUEST PATCH https://cloudfunctions.googleapis.com/v1/projects/make-my-games/locations/us-central1/functions/cleanupUser {"updateMask":"sourceUploadUrl,name,labels,runtime,environmentVariables,eventTrigger.resource,eventTrigger.eventType,eventTrigger.service"} 
 {"sourceUploadUrl":"https://storage.googleapis.com/gcf-upload-us-central1-009b5138-cbcb-4510-afbb-756877ac4f84/53fdac9b-4586-48d1-99fd-296f18ab95ad.zip?GoogleAccessId=service-1016331517520@gcf-admin-robot.iam.gserviceaccount.com&Expires=1596873973&Signature=TGCrJQlDoa6tSP7q0t20E3hfN4RGM4AYQdcxh59s3Q%2BtKPANiQgNIlYnrrMNhDren5jXmbFPNznt1C3ePIiM5bXd3qfrzZZjyWqwAqYIo1yidIbYmFBAyleif%2FH16K%2BgPg139sn%2BxPmClCDptz%2BMPXV2z4FE%2FI%2BvJ0M2eeIHVNMIGoG71vq3hO8IET0dses3SYdclkhRvrKHd4wJ7uvBnCzpYop7nIoFDET0khj5ha4wBB6Xls8Y9PQ2N2H%2F5rKG%2BGutkGifIRPqvPlzJb6wEGYcTsZDK%2F2U1j5J%2Bn3VmNR5YraDE1VnLSqzL%2BdMZG4uCsIGo9cqsCVgfSMz5YxuCA%3D%3D","name":"projects/make-my-games/locations/us-central1/functions/cleanupUser","labels":{"deployment-tool":"cli-firebase"},"eventTrigger":{"resource":"projects/make-my-games","eventType":"providers/firebase.auth/eventTypes/user.delete","service":"firebaseauth.googleapis.com"},"runtime":"nodejs10","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"make-my-games\",\"databaseURL\":\"https://make-my-games.firebaseio.com\",\"storageBucket\":\"make-my-games.appspot.com\",\"locationId\":\"us-central\"}"}}
[debug] [2020-08-08T07:36:15.265Z] <<< HTTP RESPONSE 400 {"vary":"X-Origin, Referer, Origin,Accept-Encoding","content-type":"application/json; charset=UTF-8","date":"Sat, 08 Aug 2020 07:36:15 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-27=\":443\"; ma=2592000,h3-T050=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2020-08-08T07:36:15.265Z] <<< HTTP RESPONSE BODY {"error":{"code":400,"message":"The request has errors","status":"INVALID_ARGUMENT","details":[{"@type":"type.googleapis.com/google.rpc.BadRequest","fieldViolations":[{"field":"event_trigger","description":"Expected value users/{userId}/stripe/payments/{pushId} to match regular expression [^/]+/[^/]+(/[^/]+/[^/]+)*"}]}]}}
[warn] !  functions: failed to update function confirmStripePayment 
[info] HTTP Error: 400, The request has errors
[debug] [2020-08-08T07:36:15.343Z] <<< HTTP RESPONSE 400 {"vary":"X-Origin, Referer, Origin,Accept-Encoding","content-type":"application/json; charset=UTF-8","date":"Sat, 08 Aug 2020 07:36:15 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-27=\":443\"; ma=2592000,h3-T050=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2020-08-08T07:36:15.343Z] <<< HTTP RESPONSE BODY {"error":{"code":400,"message":"The request has errors","status":"INVALID_ARGUMENT","details":[{"@type":"type.googleapis.com/google.rpc.BadRequest","fieldViolations":[{"field":"event_trigger","description":"Expected value users/{userId}/stripe/payments/{pushId} to match regular expression [^/]+/[^/]+(/[^/]+/[^/]+)*"}]}]}}
[warn] !  functions: failed to update function createStripePayment 
[info] HTTP Error: 400, The request has errors
[debug] [2020-08-08T07:36:15.622Z] <<< HTTP RESPONSE 400 {"vary":"X-Origin, Referer, Origin,Accept-Encoding","content-type":"application/json; charset=UTF-8","date":"Sat, 08 Aug 2020 07:36:15 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-27=\":443\"; ma=2592000,h3-T050=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2020-08-08T07:36:15.622Z] <<< HTTP RESPONSE BODY {"error":{"code":400,"message":"The request has errors","status":"INVALID_ARGUMENT","details":[{"@type":"type.googleapis.com/google.rpc.BadRequest","fieldViolations":[{"field":"event_trigger","description":"Expected value users/{userId}/stripe/payment_methods/{pushId} to match regular expression [^/]+/[^/]+(/[^/]+/[^/]+)*"}]}]}}
[warn] !  functions: failed to update function addPaymentMethodDetails 
[info] HTTP Error: 400, The request has errors
[debug] [2020-08-08T07:36:15.744Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Sat, 08 Aug 2020 07:36:15 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-27=\":443\"; ma=2592000,h3-T050=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2020-08-08T07:36:16.427Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Sat, 08 Aug 2020 07:36:16 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-27=\":443\"; ma=2592000,h3-T050=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2020-08-08T07:36:16.429Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bWFrZS1teS1nYW1lcy91cy1jZW50cmFsMS9jcmVhdGVTdHJpcGVDdXN0b21lci9abjM5emZ0TGV6dw  
 
[debug] [2020-08-08T07:36:16.429Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bWFrZS1teS1nYW1lcy91cy1jZW50cmFsMS9jbGVhbnVwVXNlci9ZeFB4TEp2bHhCZw  
 
[debug] [2020-08-08T07:36:17.157Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Sat, 08 Aug 2020 07:36:17 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-27=\":443\"; ma=2592000,h3-T050=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2020-08-08T07:36:17.332Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Sat, 08 Aug 2020 07:36:17 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-27=\":443\"; ma=2592000,h3-T050=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2020-08-08T07:36:19.158Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bWFrZS1teS1nYW1lcy91cy1jZW50cmFsMS9jbGVhbnVwVXNlci9ZeFB4TEp2bHhCZw  
 
[debug] [2020-08-08T07:36:19.334Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bWFrZS1teS1nYW1lcy91cy1jZW50cmFsMS9jcmVhdGVTdHJpcGVDdXN0b21lci9abjM5emZ0TGV6dw  
 
[debug] [2020-08-08T07:36:20.257Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Sat, 08 Aug 2020 07:36:20 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-27=\":443\"; ma=2592000,h3-T050=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
